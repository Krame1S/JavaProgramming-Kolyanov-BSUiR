<!DOCTYPE html>
<html>
<head>
    <title>Update Page for Check Entity</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <h1>Update page For Check Entity</h1>
    <div id="error-message" style="display: none;">
        <p id="error-text"></p>
    </div>

    <table id="checksTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>URL</th>
                <th>Status</th>
                <th>Action</th>
            </tr>
        </thead>
        <tbody>
            <!-- Rows will be added here dynamically -->
        </tbody>
    </table>

    <p><a href="/checks">Back To Checks Page</a></p>

    <script>
        $(document).ready(function() {
            // Fetch checks and update the table
            $.getJSON("/checks", function(data) {
                var items = [];
                $.each(data, function(key, value) {
                    items.push("<tr><td>" + value.id + "</td><td>" + value.url + "</td><td>" + value.status + "</td><td><button class='update-button' data-id='" + value.id + "'>Update</button></td></tr>");
                });
                $("#checksTable tbody").html(items.join(""));
            });

            // Handle update button clicks
            $(document).on("click", ".update-button", function() {
                var id = $(this).data("id");
                // Example: Fetch a specific check for updating
                $.getJSON("/check/" + id, function(data) {
                    // Display the check data in a form for updating
                    // This part depends on how you want to implement the update form
                });
            });
        });
    </script>
</body>
</html>
